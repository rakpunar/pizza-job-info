<html>
    <head>
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <title>API Tracker</title>
    </head>
    <div id="container" style="width: 300px; position: fixed; right: 20px; top: 20px; font-family: Arial; color: white;">
        <div style="background: rgba(30,30,30,0.95); padding: 8px; border-radius: 5px 5px 0 0;">
            <span style="font-size: 12px; color: #999;">API DATA - USER 227724</span>
            <button onclick="refreshData()" style="float:right; background: none; border: none; color: white; cursor: pointer;">ðŸ”„</button>
        </div>

        <div style="background: rgba(30,30,30,0.95); padding: 10px; border-radius: 0 0 5px 5px;">
            <div style="margin-bottom: 15px;">
                <div style="color: #999; font-size: 12px;">OYUNCU DURUMU</div>
                <div id="playerStatus" style="font-size: 14px; margin-top: 3px;">YÃ¼kleniyor...</div>
            </div>

            <div style="margin-bottom: 15px;">
                <div style="color: #999; font-size: 12px;">ENVANTER</div>
                <div id="inventory" style="font-size: 14px; margin-top: 3px;">YÃ¼kleniyor...</div>
            </div>

            <div>
                <div style="color: #999; font-size: 12px;">BAKÄ°YE</div>
                <div id="wealth" style="font-size: 14px; margin-top: 3px;">YÃ¼kleniyor...</div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'tycoon-2epova.users.cfx.re/status'; // Server 1
        const USER_ID = '227724';
        let lastUpdate = {};

        async function fetchData(endpoint) {
            try {
                const response = await fetch(`https://${API_URL}${endpoint}`, {
                    headers: {
                        'X-Tycoon-Key': 'MXmNGqARCoXgKgZOp7LO13omYG9D23tfkNVik'  // Buraya API key gelecek
                    }
                });
                return await response.json();
            } catch (error) {
                console.error(`Hata: ${endpoint}`, error);
                return null;
            }
        }

        async function refreshData() {
            // KullanÄ±cÄ± verisi
            const userData = await fetchData(`/data/${USER_ID}`);
            if (userData && userData.data) {
                const status = `Ä°ÅŸ: ${userData.data.job || 'Yok'}<br>
                              Level: ${userData.data.level || '0'}<br>
                              Aptitude: ${userData.data.aptitude || '-'}`;
                document.getElementById('playerStatus').innerHTML = status;

                if (userData.data.inventory) {
                    const invHtml = Object.entries(userData.data.inventory)
                        .map(([item, data]) => `<div style="display: flex; justify-content: space-between; padding: 2px 0;">
                            <span>${item}:</span>
                            <span>${data.amount || data}</span>
                        </div>`).join('');
                    document.getElementById('inventory').innerHTML = invHtml || 'Envanter boÅŸ';
                }
            }

            // Bakiye bilgisi
            const wealthData = await fetchData(`/wealth/${USER_ID}`);
            if (wealthData) {
                const wealth = `CÃ¼zdan: $${wealthData.wallet?.toLocaleString() || 0}<br>
                               Banka: $${wealthData.bank?.toLocaleString() || 0}<br>
                               BorÃ§: $${wealthData.loan?.toLocaleString() || 0}`;
                document.getElementById('wealth').innerHTML = wealth;
            }
        }

        // Ä°lk yÃ¼kleme
        refreshData();
        // Her 30 saniyede bir gÃ¼ncelle
        setInterval(refreshData, 30000);
    </script>
</html>
